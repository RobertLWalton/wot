#!/bin/sh

case $1 in -doc*)
    echo "
gitadd [filename ...]

    Move copies of working files to the index if they
    differ from copies already in the index.  If no
    filenames are given, only files in the current
    directory and its subdirectories that differ from
    the index versions are added, and these are first
    listed and you are asked whether to continue.

    If filenames are given, they are added, even if they
    were not previously committed, in which case they
    will be committed by the next gitcom.  Directory
    names should NOT be given unless you want all files
    in the named directories and their subdirectories
    to be committed."

    exit 1
    ;;
esac

if test $# -eq 0
then
    echo "Modified:"
    git ls-files -m .
    echo 'OK (y or n)?'
    read
    if test "$REPLY" = "y"
    then
	git add -uv
    else
	echo 'ABORTED!'
    fi
else
    git add -v "$@"
fi
