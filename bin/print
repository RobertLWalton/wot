#! /bin/sh
#
# Print files, in 60 line x 80 column format by default,
# or in other formats by option.
#
# File:		print
# Author:	Bob Walton <walton@deas.harvard.edu>
# Date:		Thu Dec  7 05:56:40 EST 2006
#
# The authors have placed this program in the public
# domain; they make no warranty and accept no liability
# for this program.
#
# RCS Info (may not be true date or author):
#
#   $Author: walton $
#   $Date: 2006/12/07 11:16:05 $
#   $RCSfile: print,v $
#   $Revision: 1.16 $

landscape=""
border="-j"
filename="\$n"
date=" \$W  \$C "
login=" %n "
pagenumber="\$% of \$="
font=10
titlefont=12
output="-P $PRINTER"
switches=""
style="Courier"

case "$1" in
    -doc* )
   	echo "
print [-2FfdlpWNVEbo] [-P printer] [filename ...]

    Print the files named, or the standard input if no
    files are named.

    Normally one column is printed; -2 prints two
    columns per page in landscape.
    
    Normally the column width is 80 characters; -W is
    a wide column of 100 characters; -N is a narrow col-
    umn of 56 characters; -V is a very wide column of
    132 characters.  -E is for emailable files with a
    column width of 72 characters.  Minimal page lengths
    are 60 lines normally, 40 lines for -N, 50 lines for
    -E, 70 lines for -W, and 100 lines for -V.  -N is
    optimal for printing viewgraphs for overhead projec-
    tors, and for printing two columns per page (-2
    option) with reasonable sized font.  -V is NOT
    allowed with -2.

    Normally the header line is bold and the rest of the
    text is not.  -B makes the rest of the text bold.
    
    The header normally includes file name, date, login
    name, and page number.  -f suppresses the file name;
    -d suppresses the date; -l suppresses the login
    name; and -p suppresses the page number.  -F prints
    the full file name instead of just the last compo-
    nent of the file name.

    Normally the page has a border, but -b suppresses
    the border.

    The printer used is the value of the PRINTER
    environment variable.  The -P printer option changes
    the printer used.  The -o option routes output
    to the standard output, instead of to a printer.
    Note that remarks are always printed on the standard
    error, so the standard error and standard output
    should NOT be combined if the -o option is used."

    	exit 1
	;;
    -P ) ;;
    -* )
    	switches="$1"
	if test `expr "$1" : '\-[2FfdlpWNVEboB]*$'` \
	        -le 1
	then
	    echo ERROR: bad option in "$1"
	    echo \`print -doc\' prints documentation.
	    exit 1
	fi
	case "$1" in
	*W*[NVE]* | *N*[WVE]* | *V*[WNE]* | *E*[VWN]* )
		echo ERROR: -W, -N, -V, or -E options \
			    conflict.
		echo \`print -doc\' prints \
		     documentation.
		exit 1
		;;
	*V*2* | *2*V* )
		echo ERROR: -V and -2 options \
			    conflict.
		echo \`print -doc\' prints \
		     documentation.
		exit 1
		;;
	*f*F* | *F*f* )
		echo ERROR: both -f and -F options \
			    given.
		echo \`print -doc\' prints \
		     documentation.
		exit 1
		;;
	*2*)	landscape="-2r"	
		font=7
		case "$1" in
		*W*)	font=6; titlefont=10 ;;
		*N*)	font=10 ;;
		*E*)	font=8; titlefont=10 ;;
		esac
		;;
	*)
		case "$1" in
		*V*)	font=6; titlefont=10 ;;
		*W*)	font=8; titlefont=10 ;;
		*N*)	font=15; titlefont=15 ;;
		*E*)	font=11; titlefont=12 ;;
		esac
	esac

	case "$1" in
	*b*)	border=""
	esac

	case "$1" in
	*f*)	filename=""
	esac

	case "$1" in
	*F*)	filename="\$N"
	esac

	case "$1" in
	*d*)	date=""
	esac

	case "$1" in
	*l*)	login=""
	esac

	case "$1" in
	*p*)	pagenumber=""
	esac

	case "$1" in
	*o*)	output="-p -"
	esac

	case "$1" in
	*B*)	style="Courier-Bold"
	esac

	shift
esac


case "$1" in
    -P )
	case "$switches" in
	*o* )
		echo ERROR: both -o and -P options \
		     given.
		echo \`print -doc\' prints \
		     documentation.
		exit 1
		;;
	esac
    	shift
	output="-P $1"
	echo >&2 Printer is $1
	shift
    	;;
esac

exec enscript $landscape $border \
        -b "$filename|$date$login|$pagenumber" \
	--margins=48:48:: \
	-F Courier-Bold$titlefont -f $style$font \
	$output "$@"



Test Lines


56 columns:
01234567890123456789012345678901234567890123456789012345

72 columns:
012345678901234567890123456789012345678901234567890123456789012345678901

80 columns:
01234567890123456789012345678901234567890123456789012345678901234567890123456789

100 columns:
0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789

132 columns:
012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901


1 line numbers
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110  last line
