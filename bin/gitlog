#!/bin/sh
case $1 in -doc*)
    echo "
gitlog
    List all commits and file changes."

    exit 1
    ;;
esac

git log -g --name-status --pretty=format:"%h - %cn - %cd" \
        --date=local --find-renames 2>&1 | \
    awk 'BEGIN { i = 0 }
         /^[0-9a-fA-F]* - / { print "{" i "} " $0
	                      i = i + 1
			      next }
         /^[ \t]*$/ { print ""
	              next }
         /./ { print "\t" $0 }' 2>&1 | \
    less -F
