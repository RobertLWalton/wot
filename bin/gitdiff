#!/bin/sh
case $1 in -doc*)
    echo "
gitdiff [-a | filename ...]
    List differences between the working versions of
    files and the index versions.  With no argument,
    do this for all files in the current directory and
    its subdirectories.  With -a argument, for all files
    in all repository directories.  Otherwise only for
    the listed files."

    exit 1
    ;;

"")
    git diff --src-prefix=index/ --dst-prefix=working/ \
        .
    ;;
"-a")
    git diff --src-prefix=index/ --dst-prefix=working/
    ;;
*)
    git diff --src-prefix=index/ --dst-prefix=working/ \
        "$@"
    ;;
esac
