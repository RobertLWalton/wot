#!/bin/sh
case $1 in -doc*)
    echo "
gitdiff [-a | filename ...]
    List differences between the working versions of
    files and the index versions.  With no argument,
    do this for all files in the current directory and
    its subdirectories.  With -a argument, for all files
    in all repository directories.  Otherwise only for
    the listed files.

gitdiff [-r | -R ] [ filename ... ]
    List differences between working files and the
    remote repository files.  First does gitfetch to
    fetch the remote files.  -r shows differences from
    remote files to working files, -R shows differences
    from working files to remote files.  If no filenames
    listed all files shown; if filenames is \`.' only
    files in current directory are shown; otherwise only
    listed files are shown."

    exit 1
    ;;

"")
    git diff .
    ;;
"-a")
    git diff
    ;;
"-r")
    shift
    git fetch origin
    git diff origin -- "$@"
    ;;
"-R")
    shift
    git fetch origin
    git diff -R origin -- "$@"
    ;;
*)
    git diff "$@"
    ;;
esac
