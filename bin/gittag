#!/bin/sh
case $1 in
-doc*)
    echo "
gittag
    List all existing tags.
gittag tagname
    Create a tag referring to the last commit (the index
    is ignored)."

    exit 1
    ;;
"")
    for t in `git tag -l`
    do
	show=`git show --abbrev-commit $t -- `
	commitline=`echo "$show" | grep '^commit '`
	dateline=`echo "$show" | grep Date:`
	date=`expr "$dateline" : 'Date: \(.*\)'`
	commit=`expr "$commitline" : 'commit \(.*\)'`
	echo ${t}: $commit: $date
    done
    exit 0
    ;;
esac

git tag "$1" --
